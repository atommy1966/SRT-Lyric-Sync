# SRT Lyric Sync

[English](./README.md) | [Español](./README.es.md) | [简体中文](./README.zh-CN.md)

音声付きの動画または音声ファイルをアップロードし、SRT、VTT、LRC形式の歌詞ファイル、あるいは歌詞全文を提供することで、AIが自動的に同期されたSRT、VTT、LRC形式の字幕ファイルを生成します。

![SRT Lyric Sync - Main Interface](https://raw.githubusercontent.com/atommy1966/SRT-Lyric-Sync-assets/main/2025-09-14%209.32.26.png)
![SRT Lyric Sync - Editor View](https://raw.githubusercontent.com/atommy1966/SRT-Lyric-Sync-assets/main/2025-09-14%209.33.37.png)

## ✨ 主な機能

*   **AIによる文字起こし＆同期**:
    *   **ワンクリック文字起こし**: 歌詞が手元になくても大丈夫。AIが音声を直接エディタに書き起こし、同期された字幕をワンステップで生成します。
    *   **自動同期**: 既に歌詞をお持ちの場合は、貼り付けるだけでAIが数秒で完璧に同期された字幕ファイルを作成します。
*   **多言語インターフェース**: 英語、日本語、スペイン語、中国語（簡体字）に対応。完全にローカライズされた体験をお楽しみいただけます。
*   **ワンクリック翻訳**: 統合されたAI翻訳ツールを使い、字幕を瞬時に多言語へ翻訳。グローバルな視聴者にリーチするのに最適です。
*   **高精度なAIリファイン**: ワンクリックで生成されたタイミングを微調整。AIがボーカルの減衰やフレージングを分析し、プロレベルの精度を実現します。
*   **高度なインタラクティブエディタ**:
    *   **ワンクリック・タイムスタンプ設定**: タイムコードの横にあるターゲットアイコンをクリックするだけで、動画の現在再生位置の時刻を瞬時に設定できます。
    *   **ドラッグ＆ドロップによる並べ替え**: 字幕の行を直感的にドラッグして順番を入れ替えられます。
    *   **強力な右クリックメニュー**: 新しい行の挿入、次の行との結合、削除、上下への移動といった操作を素早く行えます。
    *   **その場での行分割**: テキストにカーソルを合わせて「行を分割」ボタンをクリックすると、長い行が即座に2つに分割され、タイミングも自動で計算されます。
    *   **キーボード操作支援**: タイムコード入力欄で矢印キーを使い、100ms単位（Shiftキー併用で1秒単位）の精密な調整が可能。入力中でなければ、スペースバーで動画を再生・一時停止できます。
    *   **アンドゥ/リドゥ機能**: 編集内容を失う心配はありません。変更履歴を簡単に行き来できます。
*   **グローバルタイミング制御**:
    *   **グローバルオフセットスライダー**: すべてのタイムスタンプを一度に前後にずらし、字幕トラック全体を完璧に揃えることができます。
    *   **ボーカル減衰ヘルパー**: 各行の終わりに一律の余白を追加し、歌手の声の自然なフェードアウトにより良く合わせることができます。
*   **柔軟なI/Oとワークフロー**:
    *   **リアルタイム・ビデオプレビュー**: 編集内容がカスタムビデオプレイヤーに即座に反映されます。再生中の歌詞に合わせて、字幕リストも自動でスクロールします。
    *   **マルチフォーマット対応**: `.txt`, `.srt`、`.vtt`、`.lrc`ファイルからインポート可能。完成した作品は、効率的なダウンロードメニューからSRT、VTT、LRC形式でエクスポートできます。
    *   **インテリジェントなファイル名生成**: AIが字幕の言語を自動で検出し、ダウンロードするファイル名に言語コード（例: `_ja.srt`）を含めるため、ファイルの整理が簡単になります。
    *   **ペースト＆解析**: SRT、VTT、LRC形式のテキストを歌詞エリアに直接貼り付けると、アプリが形式を自動検出し、ワンクリックでエディタに読み込むことができます。
    *   **下書き自動保存＆復元**: 作業内容はブラウザに自動で保存されます。一度離れて戻ってきた際に、アプリが未保存の下書きを復元するか尋ねてくれます。

## 🎬 活用シーン

このアプリは音楽の歌詞同期だけに留まりません。AIによる高精度な文字起こしと編集機能により、様々なシーンであなたの作業を効率化します。

*   **ミュージックビデオ・ライブ映像**: 楽曲の歌詞を正確に同期させ、ファンが楽しめる字幕を作成。
*   **解説動画・チュートリアル**: 専門的な内容や手順を話す動画に字幕を付け、視聴者の理解度を向上。
*   **インタビュー・対談**: 録画したインタビューを文字起こしし、記事作成や編集作業の時間を大幅に短縮。
*   **講義・セミナーの記録**: オンライン講義やセミナーの内容をテキスト化し、議事録や学習資料として活用。
*   **語学学習**: 外国語の楽曲やスピーチを文字起こしして、リスニングやシャドーイングの教材に。

## 🚀 使い方

1.  **動画/音声のアップロード**: 動画または音声ファイルをドラッグ＆ドロップするか、選択してアップロードします。
2.  **歌詞の提供**: 3つの方法があります：
    *   **文字起こし（推奨）**: **「文字起こし」** をクリックすると、AIが自動で歌詞とタイミングをワンステップで生成します。
    *   **貼り付け**: テキストエリアに直接歌詞を貼り付けます。
    *   **インポート**: **「インポート」** をクリックして、`.txt`ファイルや既存の字幕ファイル（`.srt`, `.vtt`, `.lrc`）を読み込みます。
3.  **生成/リファイン**:
    *   歌詞を貼り付けたりインポートした場合は、**「生成」** をクリックして最初のタイミングを作成します。
    *   いつでも **「リファイン」** をクリックすれば、AIを使って現在の字幕のタイミング精度を向上させることができます。
4.  **編集**: 強力なインタラクティブエディタを使って、最終的な調整を行います。
5.  **ダウンロード**: 同期した字幕を希望の形式（SRT, VTT, LRC）でエクスポートします。

---

## 🌐 ライブデモ

[こちらでSRT Lyric Syncを試す](https://srt-lyric-sync-369376059789.us-west1.run.app/)

**注意：** メディアファイルの最大アップロードサイズは15MBです。

## 💻 ローカルでの開発

このアプリケーションは、環境変数（`process.env.API_KEY`）からGemini APIキーを取得するように設計されており、Google AI Studioにデプロイすると自動的に処理されます。

**ローカルでの開発に限り**、手動でキーを提供する必要があります。

### 1. APIキーの設定（ローカルでの回避策）
これはビルドプロセスを持たないシンプルな静的プロジェクトであるため、一時的に `services/geminiService.ts` を編集してキーを挿入する必要があります。

- **ファイルを開く：** `services/geminiService.ts`
- **該当行を見つける：** `const API_KEY = process.env.API_KEY;`
- **あなたのキーに置き換える：** `const API_KEY = "ここにあなたのGemini APIキーを入力";`

⚠️ **重要：** これはローカルテスト専用です。APIキーが公開されてしまうため、この変更をコミットしたり、パブリックリポジトリにプッシュしたりしないでください。

### 2. ローカルサーバーの実行
このプロジェクトは複雑なビルドプロセスを必要としません。
- プロジェクトのルートディレクトリでターミナルを開きます。
- シンプルなローカルサーバーを使用します。例：
  ```bash
  # Python 3がインストールされている場合
  python -m http.server

  # Node.jsとserveがインストールされている場合
  npx serve .
  ```

### 3. ブラウザで開く
- ターミナルに表示されたローカルURL（例：`http://localhost:8000`）にアクセスします。

---

Powered by Google Gemini.